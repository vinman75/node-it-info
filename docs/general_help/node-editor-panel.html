<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node Editor Panel - Node-It Help</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="../assets/node-it_icon.png">
</head>
<body>
    <header>
        <img src="../assets/node-it_icon.png" alt="Node-It Icon" class="header-icon">
        <h1>Node-It Help Documentation v0.6.3</h1>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search documentation..." autocomplete="off">
            <div id="searchResultsContainer"></div>
        </div>
    </header>
    <div class="content-wrapper">
        <nav>
            <!-- Navigation will be loaded here by script.js -->
            <p class="loading-placeholder">Loading navigation...</p>
        </nav>
        <main>
            <h2>Node Editor Panel</h2>
<p>The <strong>Node Editor</strong> panel, typically docked on the right side of the application, is your primary interface for inspecting and modifying the detailed properties of nodes within your graph.</p>
        
        <h4>Core Functionality:</h4>
        <ul>
            <li><strong>Displaying Nodes:</strong>
                <ul>
                    <li><strong>Selection-Based:</strong> When you select one or more nodes in the main graph view, their properties automatically appear in the Node Editor. The editor displays a configurable number of recently selected nodes (see "Max Selected Nodes" setting below).</li>
                    <li><strong>Double-Click:</strong> Double-clicking a node in the graph view also brings its properties into focus in the Node Editor.</li>
                    <li><strong>Pinning:</strong> Each node's section in the editor has a "Pin" checkbox at the bottom. Checking this keeps the node's properties visible, regardless of current graph selection. Pinned nodes are always shown at the top of the editor, sorted by their Y-position in the graph.</li>
                </ul>
            </li>
            <li><strong>Interacting with Node Sections:</strong>
                <ul>
                    <li><strong>Header:</strong> The header of each node's section displays its user-friendly type label (e.g., "Add", "FloatNode") and is color-coded according to its category. Clicking this header will select the corresponding node in the main graph view.</li>
                    <li><strong>Close Button ('X'):</strong> For unpinned nodes, an 'X' button in the header allows you to close that node's section from the editor. It will reappear if the node is selected again or pinned.</li>
                </ul>
            </li>
            <li><strong>Common Property Editing:</strong>
                <ul>
                    <li><strong>Name:</strong> Edit the node's unique name. Changes are committed when you press Enter or the field loses focus. Renaming `LoggerNode` or `ChatLoggerNode` instances will also update their corresponding tab names in the Output Window.</li>
                    <li><strong>Mute:</strong> A "Mute" checkbox allows you to toggle the muted state of the node. Muted nodes typically bypass their main processing and visually indicate this state (e.g., semi-transparent in the graph, dashed connection lines).</li>
                </ul>
            </li>
            <li><strong>Node-Specific Value & Attribute Editing:</strong>
                <ul>
                    <li><strong>Data Nodes:</strong> Nodes like `FloatNode`, `IntNode`, `StrNode`, `BoolNode`, `Vector2Node`, and `Vector3Node` provide specialized UI controls (spin boxes, text fields, checkboxes, custom sliders) to directly edit their stored values.</li>
                    <li><strong>File Nodes:</strong> `Load*` and `Export*` nodes feature a text field for the file path and a "..." browse button to open a system file dialog. Export-specific nodes also have an "Export" button to trigger their action.</li>
                    <li><strong>Expression Nodes:</strong> Nodes like `ExpressionNode` provide a multi-line text editor for defining their operational logic.</li>
                    <li><strong>Custom UI:</strong> Nodes like `ColorConstantNode` (color swatch) or `ColorRampNode` (gradient editor widget) provide dedicated custom UIs for their complex properties.</li>
                    <li><strong>Dropdowns:</strong> Many nodes (e.g., `TextLayoutNode`, `FontConfigurationNode`, `LSystemNode`, `ExtractListAttributeNode`) use dropdown menus to select modes, types, or attributes.</li>
                    <li><strong>Generic Attributes:</strong> Nodes implementing the generic attribute interface (e.g., `TransformNode`) will have their editable attributes dynamically built with appropriate widgets based on their declared type.</li>
                </ul>
            </li>
            <li><strong>Output Display:</strong>
                <ul>
                    <li>For many nodes, a read-only "Output:" field displays the current calculated output value. This value may be truncated for display if it's very long (up to 50 characters).</li>
                    <li>Nodes like `LoggerNode`, `ChatLoggerNode`, or `Export*` nodes might show specific status messages (e.g., "(No Input)", "Check Output Window", "Input Data: [preview]") instead of a direct output value.</li>
                </ul>
            </li>
        </ul>

        <h4>Panel Controls:</h4>
        <ul>
            <li><strong>Max Selected Nodes:</strong> A spinbox at the top of the panel lets you control how many unpinned, recently selected nodes are displayed simultaneously.</li>
            <li><strong>Clear Unpinned:</strong> A button to quickly remove all unpinned node sections from the editor.</li>
        </ul>

        <h4>Related Functionality (Node Info Popup):</h4>
        <ul>
            <li>While not strictly part of the Node Editor panel, you can view detailed information about any node directly in the <strong>Graph View</strong>.</li>
            <li>Hover your mouse cursor over a node in the graph and press and hold the <strong><code>H</code></strong> key. A popup will appear near the node showing its description, input ports, output ports, connection hints, and any extractable attributes defined in its registration. Release the <code>H</code> key to hide the popup.</li>
        </ul>
        <p><em>(The Node Editor panel is an instance of the NodeEditor class and uses the node_ui_builder module to dynamically create widgets. It interacts closely with the NodeGraph and the actions module for undoable changes. The Node Info Popup is managed by NodeInfoPopupManager.)</em></p>
        <!-- Placeholder: <img src="assets/help/node_editor_detailed.png" alt="Node Editor panel showing various property types and node info popup"> -->
        
        </main>
    </div>
    <footer>
        Node-It v0.6.3 Documentation | Project License: MIT | Copyright 2025, Vinman75
    </footer>

    <!-- IMPORTANT: Load nav_data.js BEFORE script.js -->
    <script src="../nav_data.js"></script>
    <script src="../script.js"></script>
</body>
</html>